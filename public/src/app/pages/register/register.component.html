<main class="router-section">

  <div class="page-title">
    <h1>Register</h1>
  </div>

  <section class="section">
    <div class="section-content">
      <form [formGroup]="form" (submit)="test();submit()">
          
        <label class="form-first-name">First Name
          <input
            class="input-text"
            type="text" 
            name="firstName" 
            formControlName="firstName"required
            >
            <div [ngClass]="{ 
                  'has-error': (form.controls.firstName.errors && form.controls.firstName.dirty), 
                  'has-success': !form.controls.firstName.errors}">
              <ul class="required-ul">
                <li *ngIf="form.controls.firstName.errors?.required && form.controls.firstName.dirty">This field is required</li>
              </ul>
            </div>
        </label>

        <label class="form-last-name">Last Name
          <input
            class="input-text"
            type="text"
            name="lastName"
            formControlName="lastName"
            >
            <div [ngClass]="{ 
                  'has-error': (form.controls.lastName.errors && form.controls.lastName.dirty), 
                  'has-success': !form.controls.lastName.errors}">
              <ul class="required-ul">
                <li *ngIf="form.controls.lastName.errors?.required && form.controls.lastName.dirty">This field is required</li>
              </ul>
            </div>
        </label>

        <label class="form-email">Email
          <input
            class="input-text"
            type="email"
            name="email"
            formControlName="email"
            >
            <div [ngClass]="{ 
                  'has-error': (form.controls.email.errors && form.controls.email.dirty), 
                  'has-success': !form.controls.email.errors}">
              <ul class="required-ul">
                <li *ngIf="form.controls.email.errors?.required && form.controls.email.dirty">This field is required</li>
                <li *ngIf="form.controls.email.errors?.validateEmail && form.controls.email.dirty">This must be a valid email</li>
              </ul>
            </div>
        </label>

        <label class="form-user-name">Username
          <input
            class="input-text"
            type="text"
            name="username"
            formControlName="username"
            >
            <div [ngClass]="{ 
                  'has-error': (form.controls.username.errors && form.controls.username.dirty), 
                  'has-success': !form.controls.username.errors}">
              <ul class="required-ul">
                <li *ngIf="form.controls.username.errors?.required && form.controls.username.dirty">This field is required</li>
                <li *ngIf="form.controls.username.errors?.validateUsername && form.controls.username.dirty">Username may not have any special characters</li>
              </ul>
            </div>
        </label>

        <label class="form-email">Password
          <input
            class="input-text"
            type="password"
            name="password"
            formControlName="password"
            >
            <div [ngClass]="{ 
                  'has-error': (form.controls.password.errors && form.controls.password.dirty), 
                  'has-success': !form.controls.password.errors}">
              <ul class="required-ul">
                <li *ngIf="form.controls.password.errors?.required && form.controls.password.dirty">This field is required</li>
                <li *ngIf="form.controls.password.errors?.minlength && form.controls.password.dirty || form.controls.password.errors?.maxlength && form.controls.password.dirty">Password must be at least 8 characters, but no more than 35 characters</li>
                <!-- <li *ngIf="form.controls.password.errors?.validatePassword && form.controls.password.dirty">2Password must be at least 8 characters, but no more than 35 characters</li> -->
              </ul>
            </div>
        </label>

        <label class="form-email">Confirm Password
          <input
            class="input-text"
            type="password"
            name="confirm"
            formControlName="confirm"
            >
            <div [ngClass]="{
              'has-error': (form.controls.confirm.errors && form.controls.confirm.dirty) || (form.errors?.matchingPasswords && form.controls.confirm.dirty), 
              'has-success': !form.controls.confirm.errors && !form.errors?.matchingPasswords}">
              <ul class="required-ul">
                <li *ngIf="form.controls.confirm.errors?.required && form.controls.confirm.dirty">This field is required</li>
                <li *ngIf="form.errors?.matchingPasswords && form.controls.confirm.dirty">Passwords do not match</li>
              </ul>
            </div>
        </label>

        <input [disabled]="!form.valid" class="btn submit btn-gradient-right" type="submit" name="submit" value="Submit">
        
         <!-- <input class="btn submit btn-gradient-right" type="submit" name="submit" value="Submit"> -->
      </form>

      <!-- <p>first name: {{ form.controls.firstName.value }}</p> -->
    </div>

  </section>

</main>

<app-cta-bar></app-cta-bar>